"use strict";!function(){function e(e,t,r,o){n(t,function(t){if("function"==typeof r){var n=document.createElement("div");n.innerHTML=t,r(n)}else e.innerHTML=t;"function"==typeof o&&o()})}function t(e,t){n(e,function(e){t(JSON.parse(e))})}function n(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="text",n.addEventListener("load",function(){200!==this.status&&304!==this.status||t(this.response)}),n.send()}function r(e){for(var t=location.search.substring(1).split("&"),n={},r=0;r<t.length;r++){var o=t[r].indexOf("=");if(o>=0)var i=t[r].substring(0,o),a=t[r].substring(o+1);else i=t[r],a=null;n[i]=a}return"string"==typeof e?n[e]:n}t("data/config.json",function(n){n.language=n.defaultLanguage;for(var o in n.languageList[n.language])n[o]=n.languageList[n.language][o];var i=r("via");n.permissionList[i]?n.permission=n.permissionList[i]:n.permission=n.permissionList.default;var a=document.createElement("header"),l=document.createElement("div");l.className="content",document.body.appendChild(a),document.body.appendChild(l),e(a,"pages/header.html",function(e){t(n.information,function(t){e.querySelector(".introduction-header .name").textContent=n.permission.name?t[0].content:t[1].content,e.querySelector(".introduction-header .position").textContent=n.permission.position?t[2].content:"";var r=e.querySelector(".introduction-list"),o=r.querySelector("li").cloneNode(!0);r.innerHTML="";for(var i=3;i<t.length;i++)!function(){if(n.permission[t[i].name]){var e=o.cloneNode(!0);e.querySelector(".item-name").textContent=t[i].name;var a=e.querySelector(".item-detail");if(t[i].link){var l=document.createElement("a");l.href=t[i].link,l.textContent=t[i].content,t[i].target&&(l.target=t[i].target),a.innerHTML="",a.appendChild(l)}else a.textContent=t[i].content;r.appendChild(e)}}();a.innerHTML=e.innerHTML})}),e(l,"pages/home.html",function(e){var r=e.querySelector('[data-part="intention"]'),o=e.querySelector('[data-part="skill"]'),i=e.querySelector('[data-part="self-assessment"]'),a=e.querySelector('[data-part="work-experience"]'),c=e.querySelector('[data-part="project-experience"]');t(n.resume,function(t){var s={intention:r,skill:o,selfAssessment:i,workExperience:a,projectExperience:c};for(var d in s)s[d].querySelector("h3").textContent=t.title[d];for(var u=t.intention,p=document.createElement("ul"),d=0;d<u.length;d++)(C=document.createElement("li")).textContent=u[d].name+n.colon+u[d].content,p.appendChild(C);r.appendChild(p);for(var m="",d=0;d<t.skill.length;d++)0!==d&&(m+=n.separator),m+=t.skill[d].name;m+=n.period,o.querySelector("p").textContent=m;for(d=0;d<t.selfAssessment.length;d++){var f=document.createElement("div");f.textContent=t.selfAssessment[d],i.appendChild(f)}var g=a.querySelector("section>ul"),v=g.querySelector("ul>li").cloneNode(!0);g.innerHTML="";for(d=0;d<t.workExperience.length;d++)(C=function(e){if(e.visible){var t=v.cloneNode(!0);return t.setAttribute("dataset-work-id",e.workId),t.querySelector(".name").textContent=e.companyName,t.querySelector(".date-begin").textContent=e.beginDate,t.querySelector(".date-end").textContent=e.endDate,t.querySelector("p").textContent=e.workDescription,t}}(t.workExperience[d]))&&g.appendChild(C);var h=c.querySelector("section>ul"),y=h.querySelector("ul>li").cloneNode(!0);h.innerHTML="";for(d=t.projectExperience.length-1;d>=0;d--){var C=function(e){if(e.visible){var t=y.cloneNode(!0);t.setAttribute("dataset-project-id",e.projectId),t.querySelector(".name").textContent=e.projectName,t.querySelector(".date-begin").textContent=e.beginDate,t.querySelector(".date-end").textContent=e.endDate;for(var n=0;n<e.detail.length;n++)(r=document.createElement("div")).textContent=e.detail[n],t.appendChild(r);if(e.projectLinkVisible&&e.projectLink){var r=document.createElement("div"),o=document.createElement("a");o.textContent=e.projectLink,o.href=e.projectLink,o.target="_blank",r.appendChild(o),t.appendChild(r)}return t}}(t.projectExperience[d]);C&&h.appendChild(C)}l.innerHTML=e.innerHTML})})})}();